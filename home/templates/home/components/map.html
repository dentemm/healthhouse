{% load static home_tags %}

{% if location %}
<section id="default" class="component py-0">
  <div class="component-example component-example-fit">
    <section class="map py-10">
      <div class="container">
        <div class="row" style="min-height: 18em">
          <div class="col-lg-4 d-none d-lg-block d-xl-block">
            <div class="boxed p-5">
              <h2>{{ location.name }}</h2>
              <ul class="list-group list-group--line">
                <li class="list-group-item d-flex align-items-center">
                  <i class="icon-map-pin2 fs-24 text-blue"></i>
                  <span>{{ location.to_string }}</span>
                </li>
                <li class="list-group-item d-flex align-items-center">
                  <i class="icon-mail fs-24 text-blue"></i>
                  <span>{{ settings.home.HealthHouseSettings.email }}</span>
                </li>
                <li class="list-group-item d-flex align-items-center">
                  <i class="icon-phone2 fs-24 text-blue"></i>
                  <span>{{ settings.home.HealthHouseSettings.phone_number }}</span>
                </li>
              </ul>
              <a href="mailto:info@health-house.be" class="btn btn-primary btn-block btn-rounded mt-2">Mail us</a>
            </div>
          </div>
        </div>
      </div>
      <div id="map" class="map-area"></div>
      <script>
        function initMap() {
            // Styles a map in night mode.
          var map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: {{ location.latitude|numberify }}, lng: {{ location.longitude|numberify }} },
            zoom: 16,
            disableDefaultUI: false,
            styles: [
              {
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#f5f5f5"
                  }
                ]
              },
              {
                "elementType": "labels.icon",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#616161"
                  }
                ]
              },
              {
                "elementType": "labels.text.stroke",
                "stylers": [
                  {
                    "color": "#f5f5f5"
                  }
                ]
              },
              {
                "featureType": "administrative.land_parcel",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#bdbdbd"
                  }
                ]
              },
              {
                "featureType": "poi",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#eeeeee"
                  }
                ]
              },
              {
                "featureType": "poi",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#757575"
                  }
                ]
              },
              {
                "featureType": "poi.park",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#e5e5e5"
                  }
                ]
              },
              {
                "featureType": "poi.park",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#9e9e9e"
                  }
                ]
              },
              {
                "featureType": "road",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#ffffff"
                  }
                ]
              },
              {
                "featureType": "road.arterial",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#757575"
                  }
                ]
              },
              {
                "featureType": "road.highway",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#dadada"
                  }
                ]
              },
              {
                "featureType": "road.highway",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#616161"
                  }
                ]
              },
              {
                "featureType": "road.local",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#9e9e9e"
                  }
                ]
              },
              {
                "featureType": "transit.line",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#e5e5e5"
                  }
                ]
              },
              {
                "featureType": "transit.station",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#eeeeee"
                  }
                ]
              },
              {
                "featureType": "water",
                "elementType": "geometry",
                "stylers": [
                  {
                    "color": "#c9c9c9"
                  }
                ]
              },
              {
                "featureType": "water",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#9e9e9e"
                  }
                ]
              }
            ]
          });

          map.panBy(0, -200);
          
          var pin = "{% static 'images/pin-blue.svg' %}"

          var marker = new google.maps.Marker({
            position: map.getCenter(),
            icon: pin,
            map: map
          });
        }
      </script>
    </section>
  </div>
</section>
{% endif %}